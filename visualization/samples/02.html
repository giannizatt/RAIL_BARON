<html>
    
    <head>
        <script src="d3.min.js"></script>
        <script src="components/_common.js"></script>
        <link type="text/css" rel="stylesheet" href="components/_common.css" />
        
        <style>
            svg{
                width: 100%;
                height:100%;
            }
        </style>
        
        <!--
            questo Ã¨ un commento
        -->
        
        <script src="components/barchart/script.js"></script>
        <script src="components/linechart/script.js"></script>
    </head>
    
    <body>
        <button>change</button>
        <svg></svg>
        
        <script>
        
            var chart = VisPack.barchart().height(400)
            var linec = VisPack.linechart().width(400)
            
            var dataset = [{value:3}, {value:6}, {value:2}]
            
            var myBarchart = d3.select('svg')
                .append('g')
                .datum(dataset)
                .call(chart)
                .on('pick', function(){
                    var event = d3.event.detail
                    console.log(event)
                    var newdata = [{value:7}, {value:2}, {value:2}, {value:1}]
                    lineChart.datum(newdata).call(linec)
                })
            
            var lineChart = d3.select('svg')
                .append('g')
                .attr('transform', 'translate(200,0)')
                .datum(dataset)
                .call(linec)
            
            d3.select('button')
                .on('click', function(){
                    var newdata = [{value:7}, {value:2}, {value:2}, {value:1}]
                    
                    myBarchart.datum(newdata)
                        .call(chart)
                    
                })
            
        </script>
        
    </body>
    
</html>